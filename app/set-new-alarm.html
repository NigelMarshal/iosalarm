<!DOCTYPE html>
<html>
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link href='https://fonts.googleapis.com/css?family=Roboto:400,100,300,500,700' rel='stylesheet' type='text/css'>
  <title>ios Alarm App3 - Set New Alarm</title>
  <meta name="keywords" content="ios, app3, Moustachio, gari, water, eba">
  <meta name="description" content="ios Alarm screens in HTML, CSS and JS">
  <link rel="stylesheet" href="temp/styles/styles.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/ion-rangeslider/2.2.0/css/ion.rangeSlider.skinNice.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script src='https://cdnjs.cloudflare.com/ajax/libs/ion-rangeslider/2.2.0/js/ion.rangeSlider.js'></script>
  <!-- <script src="/temp/scripts/app-compiled.js"></script> -->

</head>
<body>
  <header class="iphone-header">
      <ul class="iphone-header__connection-icons">
      <li class="icon-carrier_signal"></li>
      <li>CARRIER</li>
      <li class="icon-wifi_icon"></li>
      </ul>

      <ul class="iphone-header__status-icons">
      <li class="icon-bluetooth"></li>
      <li>60%</li>
      <li class="icon-battery"></li>
      </ul>
 
    <p class="iphone-header__time">9:41 AM</p>
  </header>

<div class="new-alarm__wrapper">
<p class="new-alarm__title">New Alarm</p>

    <input class="new-alarm__time-box" type="text" maxlength="2"  value ="12" id="alarmHours" />
    <span class="new-alarm__time-seperator">:</span>
    <input class="new-alarm__time-box" type="text" maxlength="2" value ="30" id="alarmMinutes" />




    <input type="text" class="new-alarm__hours-slider" value="" />
    <input type="text" class="new-alarm__minutes-slider" value="" />





<!-- <p id="test-hour" value="test">hi</p>

<input type="text" id="alarmHours" name="example_name" value="" /> -->
<!-- <input type="text" id="alarmMinutes" name="example_name" value="" /> -->

<div id="new-alarm__days-selector-wrapper">
  
<input type="checkbox" id="sunday"/>
  <label for="sunday">S</label>
  <input type="checkbox" id="monday"/>
  <label for="monday">M</label>
  <input type="checkbox" id="tuesday"/>
  <label for="tuesday">T</label>
  <input type="checkbox" id="wednesday"/>
  <label for="wednesday">W</label>
  <br/>
  <input type="checkbox" id="thursday" />
  <label for="thursday">T</label>
  <input type="checkbox" id="friday" />
  <label for="friday">F</label>
  <input type="checkbox" id="saturday" />
  <label for="saturday">S</label>
</div>




<div class="new-alarm__action-buttons">
  <a href="index.html">Cancel</a>
  <a href="set-new-alarm.html">Save</a>
</div>

 </div>


 <script type='text/javascript'>

//function for persistent checkbox     
var formValues = JSON.parse(localStorage.getItem('formValues')) || {};
var $checkboxes = $("#new-alarm__days-selector-wrapper :checkbox");

function updateStorage(){
  $checkboxes.each(function(){
    formValues[this.id] = this.checked;
  });

  localStorage.setItem("formValues", JSON.stringify(formValues));
}

$checkboxes.on("change", function(){
  updateStorage();
});

// On page load
$.each(formValues, function(key, value) {
  $("#" + key).prop('checked', value);
});

   </script>



   <script type='text/javascript'>

var $hours = $(".new-alarm__hours-slider"),
    $minutes = $(".new-alarm__minutes-slider"),
    $from = $("#alarmHours"),
    $to = $("#alarmMinutes"),
    single,
    min = 0,
    max = 1000,
    to,
    from;



var updateValuesHours = function () {
    $from.prop("value", from);
  localStorage.setItem( 'StoreHours', from); 
  let localHours = localStorage.getItem("StoreHours"); 
  console.log(localHours); 


};

var updateValuesMinutes = function(){
  $to.prop("value", to);
  localStorage.setItem( 'StoreMinutes', to); 
  let localMinutes = localStorage.getItem("StoreMinutes"); 
  console.log(localMinutes); 
};



$hours.ionRangeSlider({
     type: "single",
          min: 1,
          max: 12,
          step: 1,
   
          grid_snap: true,
    grid_num: 10,
    hide_min_max: true,
    hide_from_to: true,

    onChange: function (data) {
        from = data.from;        
        updateValuesHours();
    }
});

(function () { 
  from = 0;
  $to.prop("value", 0);
  if (localStorage.getItem("StoreHours"))  {
    $from.prop("value", localStorage.getItem("StoreHours"));
    to = $from.prop;
}
})();

hours = $hours.data("ionRangeSlider");

$minutes.ionRangeSlider({
     type: "single",
          min: 1,
          max: 59,
          step: 1,
 
          grid_snap: true,
    grid_num: 10,
    hide_min_max: true,
    hide_from_to: true,
   
    onChange: function (data) {
        to = data.from        
        updateValuesMinutes();
    }
});


(function () { 
  from = 0;
  $to.prop("value", 0);
  if (localStorage.getItem("StoreMinutes"))  {
    $to.prop("value", localStorage.getItem("StoreMinutes"));
    from = $to.prop;
}
})();

minutes = $minutes.data("ionRangeSlider");
   </script>

    
</body>
</html>